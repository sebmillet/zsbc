## Generated by tests/gen.sh
##   01gmp-45.exp -> 02bc-45.exp
##   Date: Wed Sep 16 01:02:56 CEST 2015
##
## git information: 01gmp-45.exp version used to generate 02bc-45.exp:
##   commit 30c8a92e3082faff1b163e0f2fbf681e6ecfd3e6
##   Author: SÃ©bastien Millet <sebastien.millet1@club-internet.fr>
##   Date:   Tue Sep 8 20:23:16 2015 +0200

## *** DO NOT UPDATE MANUALLY ***

# tests/zsbc.test/02bc-45.exp

set timeout 3
spawn "$ZSBC" -SCM -numlib bc
send_user "***   BC - last variable\n"

set test "Check last is updated"
send "151\n2+2\nlast\n515\n"
expect {
	-re "151\[^0-9\]+4\[^0-9\]+4\[^0-9\]+515" { pass "$test" }
	default { fail "$test" }
}

set test "Check last can be updated"
send "161\nlast=3*3\nlast\n616\n"
expect {
	-re "161\[^0-9\]+9\[^0-9\]+616" { pass "$test" }
	default { fail "$test" }
}

set test "Check . alias for last - check it is updated"
send "171\n2+2\nlast\n717\n"
expect {
	-re "171\[^0-9\]+4\[^0-9\]+4\[^0-9\]+717" { pass "$test" }
	default { fail "$test" }
}

set test "Check . alias for last - check it can be updated"
send "181\n.=3*3\n.\n818\n"
expect {
	-re "181\[^0-9\]+9\[^0-9\]+818" { pass "$test" }
	default { fail "$test" }
}

set test "Checking object count ref is null"
send "quit\n"
expect {
	-re "OK.*number count.*should be 0.*: 0\[^0-9\]+OK.*expr_t.*count.*should be 0.*: 0\[^0-9\]+" { pass "$test" }
	default { fail "$test" }
}

